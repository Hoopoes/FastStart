<!DOCTYPE html>
<html>

<head>
    <title>FastStart: Log Viewer</title>
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/mui/5.14.2/material-ui.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/mui/5.14.2/material-ui.min.js"></script>

    <script>
        function filterLogs() {
            const input = document.getElementById("logFilter").value.toLowerCase();
            const rows = document.querySelectorAll("#logTable tbody tr");
            rows.forEach(row => {
                const cells = Array.from(row.getElementsByTagName("td"));
                const match = cells.some(cell => cell.textContent.toLowerCase().includes(input));
                row.style.display = match ? "" : "none";
            });
        }

        function filterColumn(colIndex) {
            const inputs = document.querySelectorAll("th input");
            const rows = document.querySelectorAll("#logTable tbody tr");
            rows.forEach(row => {
                let showRow = true;
                const cells = row.getElementsByTagName("td");

                inputs.forEach((input, idx) => {
                    const filterValue = input.value.toLowerCase();
                    const cell = cells[idx];
                    if (cell) {
                        const cellValue = cell.textContent.toLowerCase();
                        if (filterValue && !cellValue.includes(filterValue)) {
                            showRow = false;
                        }
                    }
                });

                row.style.display = showRow ? "" : "none";
            });
        }

        function refreshPage() {
            location.reload();
        }
    </script>
</head>

<body class='p-6 bg-gray-900 text-gray-200'>
    <header class='mt-6 p-4 bg-gray-800 text-gray-400 rounded-lg'>
        <h1 class='text-xl font-bold text-gray-300'>FastStart: A FastAPI Starter Kit</h1>
        <p>Organization: Hoopoes</p>
        <p>Contributor: Muhammad Umar Anzar</p>
        <p>Contact Email: <a href='mailto:omer.anzar2@gmail.com' class='text-blue-400 hover:underline'>omer.anzar2@gmail.com</a></p>
        <p>GitHub Repository: <a href='https://github.com/Hoopoes/FastStart' target='_blank' class='text-blue-400 hover:underline'>FastStart on GitHub</a></p>
    </header>
    <div class='bg-gray-800 shadow-md rounded-lg p-4 mb-6'>
        <div class='flex justify-between items-center'>
            <h1 class='text-2xl font-bold text-white'>Logs for ${date}</h1>
        </div>
        <div class='flex items-center gap-4 mt-4'>
            <input type='text' id='logFilter' onkeyup='filterLogs()' placeholder='Search logs...'
                class='p-2 w-1/3 border border-gray-600 rounded bg-gray-700 text-gray-300'>
            <button class='p-2 bg-blue-600 text-white rounded hover:bg-blue-700'>
                <span class="material-icons">filter_list</span>
            </button>
            <button onclick='refreshPage()' class='p-2 bg-green-600 text-white rounded hover:bg-green-700'>
                <span class="material-icons">refresh</span>
            </button>
        </div>
    </div>

    ${html_table}

</body>

</html>
